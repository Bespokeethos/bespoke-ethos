Title: Image transformations

URL Source: https://www.sanity.io/docs/image-url

Published Time: 2018-01-21T10:22:21Z

Markdown Content:
Image transformations | Sanity Docs

===============

Opens in a new window Opens an external website Opens an external website in a new window

This website utilizes technologies such as cookies to enable essential site functionality, as well as for analytics, personalization, and targeted advertising. [Privacy Policy](https://www.sanity.io/legal/privacy)

Accept Deny Preferences 

[Documentation =============](https://www.sanity.io/docs)

Search or Ask AI...CTRL K

*   Getting started 

    *   [Overview](https://www.sanity.io/docs/getting-started)
    *   [Platform introduction](https://www.sanity.io/docs/getting-started/the-sanity-content-operating-system-an-introduction)
    *   [Next.js quickstart](https://www.sanity.io/docs/next-js-quickstart)
    *   [Nuxt.js quickstart](https://www.sanity.io/docs/nuxt-js-quickstart)
    *   [Astro quickstart](https://www.sanity.io/docs/astro-quickstart)
    *   [React Router quickstart](https://www.sanity.io/docs/react-router-quickstart)
    *   [Studio quickstart](https://www.sanity.io/docs/sanity-studio-quickstart)

*   Platform 

    *   [Content Lake](https://www.sanity.io/docs/content-lake)
    *   [Compute and AI](https://www.sanity.io/docs/compute-and-ai)
    *   [APIs and SDKs](https://www.sanity.io/docs/apis-and-sdks)
    *   [Platform management](https://www.sanity.io/docs/platform-management)

*   Apps 

    *   [Dashboard](https://www.sanity.io/docs/dashboard)
    *   [Studio](https://www.sanity.io/docs/studio)
    *   [Canvas](https://www.sanity.io/docs/canvas)
    *   [Media Library](https://www.sanity.io/docs/media-library)
    *   [App SDK](https://www.sanity.io/docs/app-sdk)
    *   [Content Agent](https://www.sanity.io/docs/content-agent)

*   Reference 

    *   [HTTP API](https://www.sanity.io/docs/http-reference)
    *   [CLI](https://www.sanity.io/docs/cli-reference)
    *   [Libraries](https://www.sanity.io/docs/libraries)
    *   [Specifications](https://www.sanity.io/docs/specifications)

*   Resources 

    *   [Changelog](https://www.sanity.io/docs/changelog)
    *   [User guides](https://www.sanity.io/docs/user-guides)
    *   [Developer guides](https://www.sanity.io/docs/developer-guides)
    *   [Courses and certifications](https://www.sanity.io/learn)
    *   [Join the community](https://snty.link/community)
    *   [Templates](https://www.sanity.io/templates)

[Login](https://www.sanity.io/entry?ref=docs)[Get started](https://www.sanity.io/get-started?ref=docs)

Search or Ask AI...CTRL K

[Login](https://www.sanity.io/entry?ref=docs)[Get started](https://www.sanity.io/get-started?ref=docs)

###### APIs and SDKs

[Overview](https://www.sanity.io/docs/apis-and-sdks)

* * *

*   [HTTP API Reference →](https://www.sanity.io/docs/http-reference) 
*   Schemas

[Introduction to schemas](https://www.sanity.io/docs/apis-and-sdks/introduction-to-schemas) [Naming things](https://www.sanity.io/docs/apis-and-sdks/naming-things) [Attribute limit](https://www.sanity.io/docs/content-lake/attribute-limit) [Studio schema reference](https://www.sanity.io/docs/studio/schema-types) [Schema Deployment](https://www.sanity.io/docs/apis-and-sdks/schema-deployment) [Aspects schema for Media Library](https://www.sanity.io/docs/media-library/create-aspect) 

* * * 
*   Command Line Interface

[Introduction](https://www.sanity.io/docs/apis-and-sdks/cli) [Importing content](https://www.sanity.io/docs/content-lake/importing-data) [Reference](https://www.sanity.io/docs/cli-reference/cli-config) [Managing backups](https://www.sanity.io/docs/apis-and-sdks/backups) 

* * * 
*   TypeScript

[Generating types](https://www.sanity.io/docs/apis-and-sdks/sanity-typegen) 

* * * 
*   App SDK

[Go to App SDK docs](https://www.sanity.io/docs/app-sdk) [Reference](https://reference.sanity.io/_sanity/sdk-react/) 

* * * 
*   Content Releases

[Programmatic control](https://www.sanity.io/docs/apis-and-sdks/content-releases-api) [Cheat sheet](https://www.sanity.io/docs/apis-and-sdks/content-releases-cheat-sheet) 

* * * 
*   Asset API

[Presenting Images](https://www.sanity.io/docs/apis-and-sdks/presenting-images) [Image transformations](https://www.sanity.io/docs/apis-and-sdks/image-urls) [Image Metadata](https://www.sanity.io/docs/apis-and-sdks/image-metadata) [International Image Interoperability Framework (IIIF) API reference](https://www.sanity.io/docs/apis-and-sdks/iiif-api-reference) [Asset CDN](https://www.sanity.io/docs/apis-and-sdks/asset-cdn) [Image URL helper](https://github.com/sanity-io/image-url) [Asset utilities](https://github.com/sanity-io/asset-utils) 

* * * 
*   Sanity Connect for Shopify

[Introduction](https://www.sanity.io/docs/apis-and-sdks/sanity-connect-for-shopify) [Custom sync handlers](https://www.sanity.io/docs/developer-guides/custom-sync-handlers-for-sanity-connect) [Reference](https://www.sanity.io/docs/apis-and-sdks/sanity-connect-for-shopify-reference) 

* * * 

APIs and SDKs Last updated September 15, 2025

Image transformations
=====================

Copy article

*   [Article](https://www.sanity.io/docs/apis-and-sdks/image-urls)
*   [Changelog](https://www.sanity.io/docs/apis-and-sdks/image-urls/changelog)

Reference documentation for image transformations.

[The anatomy of the image URL ----------------------------](https://www.sanity.io/docs/image-url#haosh95l "Copy link to this section")
This article provides a detailed rundown of all the options for transforming images with Sanity. A general introduction to our image pipeline and tools can be found [here](https://www.sanity.io/docs/apis-and-sdks/presenting-images).

Let's start by dissecting this Sanity image URL:

`https://cdn.sanity.io/images/zp7mbokg/production/G3i4emG6B8JnTmGoN0UjgAp8-300x450.jpg`

*   `https://cdn.sanity.io/images/` is the common base for all Sanity image URLs. 
*   `zp7mbokg` is the project ID 
*   `production` is the dataset name
*   `G3i4emG6B8JnTmGoN0UjgAp8` is the asset ID and the asset metadata document `_id`
*   `300x450` is the width and height of the original image
*   `jpg` is the file format of the _original_ asset file

The image URLs can always be found in the asset metadata document referred to in an asset reference. Still, you don't have to fetch this document as the asset document ID contains all the information and represents a stable, documented interface you can trust.

The asset ID corresponding to the URLs above looks like this: `"image-G3i4emG6B8JnTmGoN0UjgAp8-300x450-jpg"`. It provides the name, dimensions, and format. Given the project ID and dataset name, you have every piece you need to assemble the URLs without fetching the asset document:

`https://cdn.sanity.io/images/<project id>/<dataset name>/<asset name>-<original width>x<original height>.<original file format>`

#### Prettier image file names

While the naming format described above contains lots of info about the original asset, it does leave something to be desired for readability and memorability when read with human eyes. If you'd like to specify a more legible file name you can do this by appending `/vanity_name.png` after the actual file name provided by Sanity. (Substituting both name and extension to fit your actual case, of course.)

This represents the base URL. If you fetch this, you will be served the original asset. This potentially uses a lot of bandwidth as content managers are advised to upload full-resolution assets. With the Sanity image pipeline, you can scale, crop, and process images on the fly based on URL parameters. E.g. by appending `?h=200` to the base URL, you instruct Sanity to scale the image to be 200 pixels tall:

`https://cdn.sanity.io/images/zp7mbokg/production/G3i4emG6B8JnTmGoN0UjgAp8-300x450.jpg?h=200`

You can specify any number of parameters. This will extract a rectangle from the image starting at 70 pixels from the left and 20 pixels from the top at a width of 120 pixels and a height of 150 pixels, scale it to 200 pixels tall, and blur it:

`https://cdn.sanity.io/images/zp7mbokg/production/G3i4emG6B8JnTmGoN0UjgAp8-300x450.jpg?rect=70,20,120,150&h=200&blur=10`

Even though the Sanity image backend is fast, you get a tremendous performance boost if your front end limits the number of sizes and crops you ask for. Sanity will cache the result in the global CDN, and if we see the same URLs again, we serve the same data directly from the edge cache closest to the user.

#### Gotcha

Non-integer values for parameters expecting integers may cause performance issues or timeouts. It is recommended that you always use integer values when the parameter calls for it (e.g., `w` and `h`), including when returning calculated values.

`&h=200` - Correct

`&h=200.0` - May be problematic

[Supported image types ---------------------](https://www.sanity.io/docs/image-url#k060d66b4aa3c "Copy link to this section")
While the [Image schema type](https://www.sanity.io/docs/image-type) supports a wide range of [image formats](https://www.sanity.io/docs/content-lake/assets), transformations are limited to JPEG, PNG, WebP, PJPG, TIFF, AVIF, and GIF. For all other formats, you should convert the image to one of the supported file types before performing additional transformations.

#### Protip

The image pipeline now supports transforming animated GIFs.

[The URL parameters ------------------](https://www.sanity.io/docs/image-url#bhpyf4m0 "Copy link to this section")

#### Gotcha

Small images get scaled up to the width or height you specify. To avoid this use `&fit=max`.

*   ##### [auto](https://www.sanity.io/docs/image-url#auto-777d41f23d56 "Copy link to this section")string

Set `auto=format` to automatically return an image in in the most optimized format supported by the browser as determined by its `Accept` header. To achieve the same result in a non-browser context, use the `fm` parameter instead to specify the desired format, for example `fm=webp`. 
*   ##### [bg](https://www.sanity.io/docs/image-url#bg-24b5f9699f1c "Copy link to this section")string

Fill in any transparent areas in the image with a color. The string must be resolve to a valid hexadecimal color (RGB, ARGB, RRGGBB, or AARRGGBB). E.g. `bg=ff00` for red background with no transparency. 
*   ##### [blur](https://www.sanity.io/docs/image-url#blur-8b3f3578e3cc "Copy link to this section")integer

Blur 1-2000. 
*   ##### [crop](https://www.sanity.io/docs/image-url#crop-749d37d946b6 "Copy link to this section")string

Use with `fit=crop` to specify how cropping is performed:

`top, bottom, left and right`: The crop starts from the edge specified. `crop=top,left` will crop the image starting in the top left corner.

`center`: Will crop around the center of the image

`focalpoint`: Will crop around the focal point specified using the `fp-x` and `fp-y` parameters.

`entropy`: Attempts to preserve the "most important" part of the image by selecting the crop that preserves the most complex part of the image. 
*   ##### [dl](https://www.sanity.io/docs/image-url#dl-9836df902327 "Copy link to this section")string

Configures the headers so that opening this link causes the browser to download the image rather than showing it. The browser will suggest to use the file name you provided. 
*   ##### [dlRaw](https://www.sanity.io/docs/image-url#dlraw-4c965b40ce63 "Copy link to this section")string

As `dl` but requests the original file/image asset. Requires authentication. 
*   ##### [dpr](https://www.sanity.io/docs/image-url#dpr-d2055ee879ac "Copy link to this section")number

Specifies device pixel ratio scaling factor. From 1 to 3. 
*   ##### [fit](https://www.sanity.io/docs/image-url#fit-45b29dc6f09f "Copy link to this section")string

Affects how the image is handled when you specify target dimensions.

`clip`: The image is resized to fit within the bounds you specified without cropping or distorting the image.

`crop`: Crops the image to fill the size you specified when you specify both `w` and `h`

`fill`: Like `clip`, but any free area not covered by your image is filled with the color specified in the `bg` parameter.

`fillmax`: Places the image within box you specify, never scaling the image up. If there is excess room in the image, it is filled with the color specified in the `bg` parameter.

`max`: Fit the image within the box you specify, but never scaling the image up.

`scale`: Scales the image to fit the constraining dimensions exactly. The resulting image will fill the dimensions, and will not maintain the aspect ratio of the input image.

`min`: Resizes and crops the image to match the aspect ratio of the requested width and height. Will not exceed the original width and height of the image. 
*   ##### [flip](https://www.sanity.io/docs/image-url#flip-c0b5b0c5fcc4 "Copy link to this section")string

Flipping. Flip image horizontally, vertically or both. Possible values: `h`, `v`, `hv` 
*   ##### [fm](https://www.sanity.io/docs/image-url#fm-048ba39d9e88 "Copy link to this section")string

Convert image to `jpg`, `pjpg`, `png`, or `webp`.

Note that `avif` is not a valid option for this parameter as AVIF transformations are generated asynchronously. See the AVIF format details below.

This property also accepts a value of `json`, which does not convert the image but returns information about the image including width, height, frame count, content length, and content type. 
*   ##### [fp-x](https://www.sanity.io/docs/image-url#fp-x-69d15ce24a41 "Copy link to this section")coordinate

Focal Point X. Specify a center point to focus on when cropping the image. Values from 0.0 to 1.0 in fractions of the image dimensions. (See `crop`) 
*   ##### [fp-y](https://www.sanity.io/docs/image-url#fp-y-6660105ff700 "Copy link to this section")coordinate

Focal Point Y. Specify a center point to focus on when cropping the image. Values from 0.0 to 1.0 in fractions of the image dimensions. (See `crop`) 
*   ##### [frame](https://www.sanity.io/docs/image-url#frame-0085602aa89c "Copy link to this section")integer

The frame of an animated image. The only valid value is `1`, which is the first frame. 
*   ##### [h](https://www.sanity.io/docs/image-url#h-53bc37b4d900 "Copy link to this section")integer

Height of the image in pixels. Scales the image to be that tall. 
*   ##### [invert](https://www.sanity.io/docs/image-url#invert-c2c0a731f318 "Copy link to this section")boolean

Invert the image. 
*   ##### [max-h](https://www.sanity.io/docs/image-url#max-h-5dc3189138bd "Copy link to this section")integer

Maximum height. Specifies size limits giving the backend some freedom in picking a size according to the source image aspect ratio. This parameter only works when also specifying `fit=crop`. 
*   ##### [max-w](https://www.sanity.io/docs/image-url#max-w-cf9d91aa062b "Copy link to this section")integer

Maximum width in the context of image cropping. Specifies size limits giving the backend some freedom in picking a size according to the source image aspect ratio. This parameter only works when also specifying `fit=crop`. 
*   ##### [min-h](https://www.sanity.io/docs/image-url#min-h-fc65150e80e0 "Copy link to this section")integer

Minimum height. Specifies size limits giving the backend some freedom in picking a size according to the source image aspect ratio. This parameter only works when also specifying `fit=crop`. 
*   ##### [min-w](https://www.sanity.io/docs/image-url#min-w-a76a36573497 "Copy link to this section")integer

Minimum width. Specifies size limits giving the backend some freedom in picking a size according to the source image aspect ratio. This parameter only works when also specifying `fit=crop`. 
*   ##### [or](https://www.sanity.io/docs/image-url#or-47060cfd5c60 "Copy link to this section")integer

Orientation. Possible values: `0`, `90`, `180` or `270.`Rotate the image in 90 degree increments. 
*   ##### [pad](https://www.sanity.io/docs/image-url#pad-3c3219587529 "Copy link to this section")integer

The number of pixels to pad the image. Applies to both width and height. 
*   ##### [q](https://www.sanity.io/docs/image-url#q-83311ae15535 "Copy link to this section")integer

Quality 0-100. Specify the compression quality (where applicable). Defaults are 75 for JPG and WebP. 
*   ##### [rect](https://www.sanity.io/docs/image-url#rect-b9848ab43728 "Copy link to this section")coordinates

Crop the image according to the provided coordinate values (`left`, `top`, `width`, `height`).

`left`: Number of pixels from the left of the image

`top`: Number of pixels from the top of the image

`width`: Width, in pixels, of the crop from the `left` value

`height`: Height, in pixels, of the crop from the `top` value 
*   ##### [sat](https://www.sanity.io/docs/image-url#sat-21f8e2835722 "Copy link to this section")number

Saturation. Currently the asset pipeline only supports `sat=-100`, which renders the image with grayscale colors. Support for more levels of saturation is planned for later. 
*   ##### [sharp](https://www.sanity.io/docs/image-url#sharp-4a8148eeb5b3 "Copy link to this section")integer

Sharpen 0-100. 
*   ##### [w](https://www.sanity.io/docs/image-url#w-8635992e7945 "Copy link to this section")integer

Width of the image in pixels. Scales the image to be that wide. 
*   ##### [cs](https://www.sanity.io/docs/image-url#cs-cbab5b5df48d "Copy link to this section")string

Output the image in a specifying color space.

Supported color spaces:

    *   `origin`: render the image in the original color space
    *   `srgb`: The default, output the image in web-friendly sRGB.
    *   `cmyk`: Output the image in the CMYK color space
    *   `b-w`: Output will be black and white.

[Vanity filenames ----------------](https://www.sanity.io/docs/image-url#k93a9d1bf3cd5 "Copy link to this section")
In addition to the query parameters, you can also append a `/my-filename.jpg` style vanity filename to the end of the URL. This will set the filename if users save the image. For example:

`https://cdn.sanity.io/images/zp7mbokg/production/G3i4emG6B8JnTmGoN0UjgAp8-300x450.jpg/easier-to-read-name.jpg`

[AVIF transformations --------------------](https://www.sanity.io/docs/image-url#e6444759a5a5 "Copy link to this section")
Images that have the query parameter `auto` set to `format` and are requested from a browser that supports the AVIF format will potentially get an AVIF returned.

There are a few exceptions/quirks:

The first few requests for an AVIF may get the "second best option" (WebP if supported, otherwise PNG/JPG depending on the source image). Subsequent requests will eventually get an AVIF back. This is done to ensure a speedy response, since encoding AVIFs is a slow process.

Image requests made prior to the AVIF rollout may already be cached in our CDN and will not return an AVIF response until they expire/fall out of the cache. In other words: if you are not seeing AVIF images being returned, don't worry — they should eventually return AVIF.

You can use `curl` to verify the behavior:

```
# Replace the URL with an actual URL from your project.
# Remember to include `?auto=format`!
curl -sS -I \
  -H 'accept: image/avif,image/webp,image/*' \
  'https://cdn.sanity.io/images/:projectId/:dataset/:filename?auto=format' \
  | grep 'content-type:'
```

On the first request, you will likely see `image/webp` returned. After waiting 30 seconds, run the same command again, and you should see `image/avif`. If you don't, wait a little longer and retry. If you still do not see AVIF, ensure that the accept header includes `image/avif` (before other formats) and that the query parameters includes `auto=format`.

#### Gotcha

Because AVIF transformations are generated asynchronously, you cannot explicitly request AVIF transformations using the `fm` query parameter. Instead, use the `accept` header as described above.

[Read more ---------](https://www.sanity.io/docs/image-url#b428730951ac "Copy link to this section")

[#### Client library for generating urls](https://github.com/sanity-io/image-url)

[Previous ### Presenting Images](https://www.sanity.io/docs/apis-and-sdks/presenting-images)[Next ### Image Metadata](https://www.sanity.io/docs/apis-and-sdks/image-metadata)

Was this page helpful?

Report issue

On this page
------------

*   [The anatomy of the image URL](https://www.sanity.io/docs/image-url#haosh95l)
*   [Supported image types](https://www.sanity.io/docs/image-url#k060d66b4aa3c)
*   [The URL parameters](https://www.sanity.io/docs/image-url#bhpyf4m0)
*   [Vanity filenames](https://www.sanity.io/docs/image-url#k93a9d1bf3cd5)
*   [AVIF transformations](https://www.sanity.io/docs/image-url#e6444759a5a5)
*   [Read more](https://www.sanity.io/docs/image-url#b428730951ac)

[sanity.io](https://www.sanity.io/?ref=apis-and-sdks-image-urls "Go to marketing site")[All Systems Operational](https://www.sanity-status.com/ "Status: All Systems Operational")© Sanity 2025 Cookie preferences Change Site Theme

Light mode

 

System theme

 

Dark mode

 ![Image 2](https://t.co/i/adsct?bci=3&dv=UTC%26en-US%26Google%20Inc.%26Linux%20x86_64%26255%26800%26600%264%2624%26800%26600%260%26na&eci=2&event_id=6985b57f-e854-426f-a1a1-7b80feba2bed&events=%5B%5B%22pageview%22%2C%7B%7D%5D%5D&integration=advertiser&p_id=Twitter&p_user_id=0&pl_id=c3790e33-271d-4b8a-84ad-8391a832ac37&pt=Image%20transformations%20%7C%20Sanity%20Docs&tw_document_href=https%3A%2F%2Fwww.sanity.io%2Fdocs%2Fapis-and-sdks%2Fimage-urls&tw_iframe_status=0&tw_order_quantity=0&tw_sale_amount=0&txn_id=o0kpz&type=javascript&version=2.3.34)![Image 3](https://analytics.twitter.com/i/adsct?bci=3&dv=UTC%26en-US%26Google%20Inc.%26Linux%20x86_64%26255%26800%26600%264%2624%26800%26600%260%26na&eci=2&event_id=6985b57f-e854-426f-a1a1-7b80feba2bed&events=%5B%5B%22pageview%22%2C%7B%7D%5D%5D&integration=advertiser&p_id=Twitter&p_user_id=0&pl_id=c3790e33-271d-4b8a-84ad-8391a832ac37&pt=Image%20transformations%20%7C%20Sanity%20Docs&tw_document_href=https%3A%2F%2Fwww.sanity.io%2Fdocs%2Fapis-and-sdks%2Fimage-urls&tw_iframe_status=0&tw_order_quantity=0&tw_sale_amount=0&txn_id=o0kpz&type=javascript&version=2.3.34)

